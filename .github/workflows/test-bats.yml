name: test-bats
run-name: ${{ github.actor }} is learning Github Actions
on: [push]
jobs:
  check-bats-version:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '16'
      - run: npm install -g bats
      - run: bats -v
  run-app:
    runs-on: ubuntu-latest
    env:
      APP_VERSION: v2
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '16'
      - run: npm ci
      - run: npm start
      - name: Create comment
        uses: peter-evans/create-or-update-comment
        with:
          issue-number: 1
          body: |
            This is a multi-line test comment and replied by @MrSdk
            - With GitHub **Markdown** :sparkles:
            - Created by [create-or-update-comment][1]

            [1]: https://github.com/peter-evans/create-or-update-comment
          reactions: '+1'